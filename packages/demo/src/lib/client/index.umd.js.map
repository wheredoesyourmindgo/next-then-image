{"version":3,"file":"index.umd.js","sources":["../src/ThenImage/ThenImage.tsx"],"sourcesContent":["import React, {useCallback, useState} from 'react';\nimport Image from 'next/image';\n\nconst fallback =\n  'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCMRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACigAwAEAAAAAQAAABkAAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/AABEIABkAKAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/3QAEAAP/2gAMAwEAAhEDEQA/APUPDGlIkSfL2rtba1VVHFYXh4Dyk+ldPF0FAB5Ix0qrc2qsp4q/UUvSgDgfE+lI8T/L2rkf7GX+7+lei+IAvlP9K5jC0Af/0PVvDOpK8SfN2rsra4DKOa8v8Jf6tK9AsvuigDY80YqvcXAVTzTe1Ub37poA53xNqSpE/wA3auT/ALWX+9V7xZ/q3rjqAP/Z';\n\ntype Props = {\n  placeholder?: string;\n  transition?: boolean;\n} & React.ComponentProps<typeof Image>;\n\nconst ThenImage = ({\n  placeholder = fallback,\n  transition = true,\n  ...rest\n}: Props): JSX.Element => {\n  const [loaded, setLoaded] = useState(false);\n\n  const onLoad = useCallback(() => {\n    setLoaded(true);\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        overflow: 'hidden',\n        display: 'block',\n        width: '100%',\n        transform: 'translate3d(0, 0, 0)',\n      }}\n    >\n      <Image layout=\"responsive\" onLoad={onLoad} {...rest} />\n      <img\n        aria-hidden=\"true\"\n        alt=\"\"\n        src={placeholder}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          /* Adjust the content to fit */\n          objectFit: 'cover',\n          objectPosition: 'center',\n          /* Blur the image and scale to avoid transparent corners */\n          filter: 'blur(2rem)',\n          transform: 'scale(1.2)',\n          transition: transition ? 'opacity 800ms, filter 1200ms' : 'none',\n          opacity: !loaded ? 1 : 0,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ThenImage;\n"],"names":["fallback","ThenImage","placeholder","transition","rest","useState","loaded","setLoaded","onLoad","useCallback","React","position","overflow","display","width","transform","top","left","height","objectFit","objectPosition","filter","opacity"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAGA,IAAMA,QAAQ,GACZ,yyCADF;;EAQA,IAAMC,SAAS,GAAG,SAAZA,SAAY;gCAChBC;QAAAA,4CAAcF;+BACdG;QAAAA,0CAAa;QACVC;;oBAEyBC,cAAQ,CAAC,KAAD;QAA7BC;QAAQC;;EAEf,MAAMC,MAAM,GAAGC,iBAAW,CAAC;EACzBF,IAAAA,SAAS,CAAC,IAAD,CAAT;EACD,GAFyB,EAEvB,EAFuB,CAA1B;EAIA,sBACEG;EACE,IAAA,KAAK,EAAE;EACLC,MAAAA,QAAQ,EAAE,UADL;EAELC,MAAAA,QAAQ,EAAE,QAFL;EAGLC,MAAAA,OAAO,EAAE,OAHJ;EAILC,MAAAA,KAAK,EAAE,MAJF;EAKLC,MAAAA,SAAS,EAAE;EALN;EADT,kBASEL,6BAAC,KAAD;EAAO,IAAA,MAAM,EAAC,YAAd;EAA2B,IAAA,MAAM,EAAEF;EAAnC,KAA+CJ,IAA/C,EATF,eAUEM;EACE,mBAAY,MADd;EAEE,IAAA,GAAG,EAAC,EAFN;EAGE,IAAA,GAAG,EAAER,WAHP;EAIE,IAAA,KAAK,EAAE;EACLS,MAAAA,QAAQ,EAAE,UADL;EAELK,MAAAA,GAAG,EAAE,CAFA;EAGLC,MAAAA,IAAI,EAAE,CAHD;EAILH,MAAAA,KAAK,EAAE,MAJF;EAKLI,MAAAA,MAAM,EAAE,MALH;;EAML;EACAC,MAAAA,SAAS,EAAE,OAPN;EAQLC,MAAAA,cAAc,EAAE,QARX;;EASL;EACAC,MAAAA,MAAM,EAAE,YAVH;EAWLN,MAAAA,SAAS,EAAE,YAXN;EAYLZ,MAAAA,UAAU,EAAEA,UAAU,GAAG,8BAAH,GAAoC,MAZrD;EAaLmB,MAAAA,OAAO,EAAE,CAAChB,MAAD,GAAU,CAAV,GAAc;EAblB;EAJT,IAVF,CADF;EAiCD,CA5CD;;;;;;;;"}