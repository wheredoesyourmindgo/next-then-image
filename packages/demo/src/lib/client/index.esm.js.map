{"version":3,"file":"index.esm.js","sources":["../src/ThenImage/ThenImage.tsx"],"sourcesContent":["import React, {useCallback, useState} from 'react';\nimport Image from 'next/image';\n\nconst fallback =\n  'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCMRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACigAwAEAAAAAQAAABkAAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/AABEIABkAKAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/3QAEAAP/2gAMAwEAAhEDEQA/APUPDGlIkSfL2rtba1VVHFYXh4Dyk+ldPF0FAB5Ix0qrc2qsp4q/UUvSgDgfE+lI8T/L2rkf7GX+7+lei+IAvlP9K5jC0Af/0PVvDOpK8SfN2rsra4DKOa8v8Jf6tK9AsvuigDY80YqvcXAVTzTe1Ub37poA53xNqSpE/wA3auT/ALWX+9V7xZ/q3rjqAP/Z';\n\ntype Props = {\n  placeholder?: string;\n  transition?: boolean;\n} & React.ComponentProps<typeof Image>;\n\nconst ThenImage = ({\n  placeholder = fallback,\n  transition = true,\n  ...rest\n}: Props): JSX.Element => {\n  const [loaded, setLoaded] = useState(false);\n\n  const onLoad = useCallback(() => {\n    setLoaded(true);\n  }, []);\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        overflow: 'hidden',\n        display: 'block',\n        width: '100%',\n        transform: 'translate3d(0, 0, 0)',\n      }}\n    >\n      <Image layout=\"responsive\" onLoad={onLoad} {...rest} />\n      <img\n        aria-hidden=\"true\"\n        alt=\"\"\n        src={placeholder}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          /* Adjust the content to fit */\n          objectFit: 'cover',\n          objectPosition: 'center',\n          /* Blur the image and scale to avoid transparent corners */\n          filter: 'blur(2rem)',\n          transform: 'scale(1.2)',\n          transition: transition ? 'opacity 800ms, filter 1200ms' : 'none',\n          opacity: !loaded ? 1 : 0,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ThenImage;\n"],"names":["fallback","ThenImage","placeholder","transition","rest","useState","loaded","setLoaded","onLoad","useCallback","position","overflow","display","width","transform","top","left","height","objectFit","objectPosition","filter","opacity"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAMA,QAAQ,GACZ,yyCADF;;AAQA,IAAMC,SAAS,GAAG,SAAZA,SAAY;8BAChBC;MAAAA,4CAAcF;6BACdG;MAAAA,0CAAa;MACVC;;kBAEyBC,QAAQ,CAAC,KAAD;MAA7BC;MAAQC;;AAEf,MAAMC,MAAM,GAAGC,WAAW,CAAC;AACzBF,IAAAA,SAAS,CAAC,IAAD,CAAT;AACD,GAFyB,EAEvB,EAFuB,CAA1B;AAIA,sBACE;AACE,IAAA,KAAK,EAAE;AACLG,MAAAA,QAAQ,EAAE,UADL;AAELC,MAAAA,QAAQ,EAAE,QAFL;AAGLC,MAAAA,OAAO,EAAE,OAHJ;AAILC,MAAAA,KAAK,EAAE,MAJF;AAKLC,MAAAA,SAAS,EAAE;AALN;AADT,kBASE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAC,YAAd;AAA2B,IAAA,MAAM,EAAEN;AAAnC,KAA+CJ,IAA/C,EATF,eAUE;AACE,mBAAY,MADd;AAEE,IAAA,GAAG,EAAC,EAFN;AAGE,IAAA,GAAG,EAAEF,WAHP;AAIE,IAAA,KAAK,EAAE;AACLQ,MAAAA,QAAQ,EAAE,UADL;AAELK,MAAAA,GAAG,EAAE,CAFA;AAGLC,MAAAA,IAAI,EAAE,CAHD;AAILH,MAAAA,KAAK,EAAE,MAJF;AAKLI,MAAAA,MAAM,EAAE,MALH;;AAML;AACAC,MAAAA,SAAS,EAAE,OAPN;AAQLC,MAAAA,cAAc,EAAE,QARX;;AASL;AACAC,MAAAA,MAAM,EAAE,YAVH;AAWLN,MAAAA,SAAS,EAAE,YAXN;AAYLX,MAAAA,UAAU,EAAEA,UAAU,GAAG,8BAAH,GAAoC,MAZrD;AAaLkB,MAAAA,OAAO,EAAE,CAACf,MAAD,GAAU,CAAV,GAAc;AAblB;AAJT,IAVF,CADF;AAiCD,CA5CD;;;;"}